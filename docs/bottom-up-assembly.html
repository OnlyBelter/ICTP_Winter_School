<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Lecture 3 Bottom-up assembly | Assembly of ecological communities: some theoretical explorations</title>
  <meta name="description" content="Lecture notes prepared for the ICTP Winter School on Quantitative Systems Biology: Quantitative Approaches in Ecosystem Ecology." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Lecture 3 Bottom-up assembly | Assembly of ecological communities: some theoretical explorations" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Lecture notes prepared for the ICTP Winter School on Quantitative Systems Biology: Quantitative Approaches in Ecosystem Ecology." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Lecture 3 Bottom-up assembly | Assembly of ecological communities: some theoretical explorations" />
  
  <meta name="twitter:description" content="Lecture notes prepared for the ICTP Winter School on Quantitative Systems Biology: Quantitative Approaches in Ecosystem Ecology." />
  

<meta name="author" content="Stefano Allesina" />


<meta name="date" content="2020-12-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="top-down-assembly.html"/>
<link rel="next" href="references-and-readings.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ICTP Winter School</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preliminaries</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#goals"><i class="fa fa-check"></i>Goals</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#computing"><i class="fa fa-check"></i>Computing</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#questions-and-answers"><i class="fa fa-check"></i>Questions and answers</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#generalized-lotka-volterra-model"><i class="fa fa-check"></i><b>1.1</b> Generalized Lotka-Volterra model</a><ul>
<li class="chapter" data-level="1.1.1" data-path="intro.html"><a href="intro.html#coexistence-equilibrium"><i class="fa fa-check"></i><b>1.1.1</b> Coexistence equilibrium</a></li>
<li class="chapter" data-level="1.1.2" data-path="intro.html"><a href="intro.html#local-stability-of-the-coexistence-equilibrium"><i class="fa fa-check"></i><b>1.1.2</b> Local Stability of the coexistence equilibrium</a></li>
<li class="chapter" data-level="1.1.3" data-path="intro.html"><a href="intro.html#the-equilibrium-is-the-time-average"><i class="fa fa-check"></i><b>1.1.3</b> The equilibrium is the time-average</a></li>
<li class="chapter" data-level="1.1.4" data-path="intro.html"><a href="intro.html#lyapunov-diagonal-stability-and-global-stability"><i class="fa fa-check"></i><b>1.1.4</b> Lyapunov diagonal stability and global stability</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#what-makes-the-study-of-assembly-difficult"><i class="fa fa-check"></i><b>1.2</b> What makes the study of assembly difficult?</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#ecological-assembly-without-tears"><i class="fa fa-check"></i><b>1.3</b> Ecological assembly without tears</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#top-down-and-bottom-up-assembly"><i class="fa fa-check"></i><b>1.4</b> Top-down and bottom-up assembly</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#modeling-invasions"><i class="fa fa-check"></i><b>1.5</b> Modeling invasions</a></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#invasions-in-multispecies-communities"><i class="fa fa-check"></i><b>1.6</b> Invasions in multispecies communities</a></li>
<li class="chapter" data-level="1.7" data-path="intro.html"><a href="intro.html#lyapunov-stability-and-saturated-equilibria"><i class="fa fa-check"></i><b>1.7</b> Lyapunov stability and saturated equilibria</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="top-down-assembly.html"><a href="top-down-assembly.html"><i class="fa fa-check"></i><b>2</b> Top-down assembly</a><ul>
<li class="chapter" data-level="2.1" data-path="top-down-assembly.html"><a href="top-down-assembly.html#a-trivial-case"><i class="fa fa-check"></i><b>2.1</b> A trivial case</a></li>
<li class="chapter" data-level="2.2" data-path="top-down-assembly.html"><a href="top-down-assembly.html#simulating-final-composition"><i class="fa fa-check"></i><b>2.2</b> Simulating final composition</a></li>
<li class="chapter" data-level="2.3" data-path="top-down-assembly.html"><a href="top-down-assembly.html#a-random-zoo"><i class="fa fa-check"></i><b>2.3</b> A random zoo</a></li>
<li class="chapter" data-level="2.4" data-path="top-down-assembly.html"><a href="top-down-assembly.html#a-random-zoo-in-the-wild"><i class="fa fa-check"></i><b>2.4</b> A random zoo in the wild</a></li>
<li class="chapter" data-level="2.5" data-path="top-down-assembly.html"><a href="top-down-assembly.html#assembly-and-saturated-equilibrium"><i class="fa fa-check"></i><b>2.5</b> Assembly and saturated equilibrium</a></li>
<li class="chapter" data-level="2.6" data-path="top-down-assembly.html"><a href="top-down-assembly.html#network-spandrels"><i class="fa fa-check"></i><b>2.6</b> Network spandrels</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="bottom-up-assembly.html"><a href="bottom-up-assembly.html"><i class="fa fa-check"></i><b>3</b> Bottom-up assembly</a><ul>
<li class="chapter" data-level="3.1" data-path="bottom-up-assembly.html"><a href="bottom-up-assembly.html#an-assembly-graph"><i class="fa fa-check"></i><b>3.1</b> An assembly graph</a><ul>
<li class="chapter" data-level="3.1.1" data-path="bottom-up-assembly.html"><a href="bottom-up-assembly.html#how-many-invasions"><i class="fa fa-check"></i><b>3.1.1</b> How many invasions?</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="bottom-up-assembly.html"><a href="bottom-up-assembly.html#properties-of-the-assembly-graph"><i class="fa fa-check"></i><b>3.2</b> Properties of the assembly graph</a></li>
<li class="chapter" data-level="3.3" data-path="bottom-up-assembly.html"><a href="bottom-up-assembly.html#assembly-graphs-for-glv"><i class="fa fa-check"></i><b>3.3</b> Assembly graphs for GLV</a></li>
<li class="chapter" data-level="3.4" data-path="bottom-up-assembly.html"><a href="bottom-up-assembly.html#relationship-with-lyapunov-functions"><i class="fa fa-check"></i><b>3.4</b> Relationship with Lyapunov functions</a></li>
<li class="chapter" data-level="3.5" data-path="bottom-up-assembly.html"><a href="bottom-up-assembly.html#how-many-assembly-endpoints"><i class="fa fa-check"></i><b>3.5</b> How many assembly endpoints?</a></li>
<li class="chapter" data-level="3.6" data-path="bottom-up-assembly.html"><a href="bottom-up-assembly.html#build-your-own-assembly-graph"><i class="fa fa-check"></i><b>3.6</b> Build your own assembly graph!</a></li>
<li class="chapter" data-level="3.7" data-path="bottom-up-assembly.html"><a href="bottom-up-assembly.html#conclusions"><i class="fa fa-check"></i><b>3.7</b> Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="references-and-readings.html"><a href="references-and-readings.html"><i class="fa fa-check"></i><b>4</b> References and readings</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Assembly of ecological communities: some theoretical explorations</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="bottom-up-assembly" class="section level1">
<h1><span class="header-section-number">Lecture 3</span> Bottom-up assembly</h1>
<blockquote>
<p>Mother Nature, of course, does not assemble her networks by throwing <em>n</em> species together in one go. It makes more sense to assume that she adds one species after another through successive invasions.</p>
<p><span class="citation">Sigmund (<a href="#ref-sigmuiud1995darwin" role="doc-biblioref">1995</a>)</span></p>
</blockquote>
<p>Having considered the case in which all species are thrown into the habitat at the same time (<strong>top-down</strong> assembly), we consider a process in which we start from the “bare ground” and build our community from the <strong>bottom-up</strong>.</p>
<p>Note that in top-down assembly, any feasible equilibrium can be achieved by starting with the appropriate initial conditions; being slightly less generous, we can think of being able to assemble from the top-down any “persistent” (e.g., stable), feasible community we can form from the pool. It makes therefore sense to ask whether these same states can or cannot be accessed when assembling the community from the ground up.</p>
<div id="an-assembly-graph" class="section level2">
<h2><span class="header-section-number">3.1</span> An assembly graph</h2>
<p>In GLV, a given (sub-)community has at most one feasible equilibrium; that is, there is <strong>no true multi-stability in GLV</strong>: we can find the system at different stable states, but <strong>they have to differ in composition</strong>. Because of this fact, we can devise a scheme to label the possible states our community can be in.</p>
<p>We call <span class="math inline">\(0\)</span> the state in which no species are present, <span class="math inline">\(1\)</span> the state in which only species 1 is present, <span class="math inline">\(2\)</span> the state in which only species 2 is present, <span class="math inline">\(3\)</span> the state in which species 1 and 2 are both present, and so on. Practically, we take the community composition to be the base-2 representation of the label. For example, label <span class="math inline">\(11\)</span> in a community of 6 species corresponds to <span class="math inline">\(001011\)</span> (i.e., a state in which species 1, 2, and 4 are present). As this notation makes obvious, for a given pool of <span class="math inline">\(n\)</span> species, we can have up to <span class="math inline">\(2^n - 1\)</span> feasible equilibria. As we saw in Lecture 1, the existence of a feasible equilibrium is a necessary (but not sufficient—we should require also some form of stability/permanence) condition for coexistence.</p>
<p>Clearly, any feasible (and persistent/stable) sub-community can be observed by initializing the system at (or, in case of locally/globally stable configurations, close to) the desired densities. On the other hand, unstable configurations will eventually collapse to some other sub-community. As such, we take the labels/states representing stable/persistent communities to be the <strong>nodes</strong> in a directed graph. Then, we take the <strong>edges</strong> of this graph to represent invasions, moving the local community from one state to another. To keep the graph simple, we only consider “successful” invasions (i.e., those for which the initial and final state differ), thereby removing the need for “self-loops”.</p>
<p>This <strong>assembly graph</strong> was considered several times in the literature (see for example <span class="citation">Law and Morton (<a href="#ref-law1993alternative" role="doc-biblioref">1993</a>)</span>, <span class="citation">Hang-Kwang and Pimm (<a href="#ref-hang1993assembly" role="doc-biblioref">1993</a>)</span>, <span class="citation">Schreiber and Rittenhouse (<a href="#ref-schreiber2004simple" role="doc-biblioref">2004</a>)</span>, <span class="citation">Capitán, Cuesta, and Bascompte (<a href="#ref-capitan2009statistical" role="doc-biblioref">2009</a>)</span>). Here, we follow the approach <span class="citation">Serván and Allesina (<a href="#ref-servan2020tractable" role="doc-biblioref">2020</a>)</span>, and note that the assembly graph fully describes the assembly process whenever the assumptions that we’ve made at the onset of our exploration (invasions are rare, invasions are small, dynamics converge to equilibria) are satisfied. When this is the case, we can study the assembly process in its full glory by studying a graph (which definitely sounds more fun!).</p>
<div id="how-many-invasions" class="section level3">
<h3><span class="header-section-number">3.1.1</span> How many invasions?</h3>
<p>First, we might want to think of the problem of invasion. The bottom-up assembly can be seen as a single, massive invasion. At the other extreme, we have assembly proceeding with invasions of a single species at a time. Of course, we can imagine anything in between: species invade in small groups, there is a distribution describing the number of species invading at each step, etc.</p>
<p>For example, let’s build the assembly graph for a given set of (random) parameters: we take <span class="math inline">\(A\)</span> to be a symmetric, <strong>stable</strong> nonpositive matrix (e.g., representing competition between species), and <span class="math inline">\(r\)</span> to be a vector of positive, random growth rates. Let’s build the assembly graph when we consider that species can enter the system only one at a time:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="bottom-up-assembly.html#cb38-1"></a><span class="kw">source</span>(<span class="st">&quot;code/general_code.R&quot;</span>)</span>
<span id="cb38-2"><a href="bottom-up-assembly.html#cb38-2"></a><span class="kw">source</span>(<span class="st">&quot;code/L-H.R&quot;</span>) <span class="co"># Lemke-Howson algorithm to get saturated equilibrium</span></span>
<span id="cb38-3"><a href="bottom-up-assembly.html#cb38-3"></a><span class="kw">source</span>(<span class="st">&quot;code/build_assembly_graph.R&quot;</span>) <span class="co"># code to build and draw assembly graphs for symmetric matrices</span></span>
<span id="cb38-4"><a href="bottom-up-assembly.html#cb38-4"></a><span class="kw">set.seed</span>(<span class="dv">4</span>) <span class="co"># for reproducibility</span></span>
<span id="cb38-5"><a href="bottom-up-assembly.html#cb38-5"></a>A &lt;-<span class="st"> </span><span class="kw">build_competitive_stable</span>(<span class="dv">4</span>)</span>
<span id="cb38-6"><a href="bottom-up-assembly.html#cb38-6"></a>r &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">4</span>)</span>
<span id="cb38-7"><a href="bottom-up-assembly.html#cb38-7"></a>assembly_invasion_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">build_assembly_graph</span>(r, A)</span>
<span id="cb38-8"><a href="bottom-up-assembly.html#cb38-8"></a><span class="kw">plot_assembly_graph</span>(assembly_invasion_<span class="dv">1</span><span class="op">$</span>graph, assembly_invasion_<span class="dv">1</span><span class="op">$</span>info)</span></code></pre></div>
<p><img src="ICTP_Winter_School_files/figure-html/unnamed-chunk-8-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>What if we allow for two invasions at a time?</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="bottom-up-assembly.html#cb39-1"></a>assembly_invasion_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">build_assembly_graph</span>(r, A, <span class="dv">2</span>)</span>
<span id="cb39-2"><a href="bottom-up-assembly.html#cb39-2"></a><span class="kw">plot_assembly_graph</span>(assembly_invasion_<span class="dv">2</span><span class="op">$</span>graph, assembly_invasion_<span class="dv">2</span><span class="op">$</span>info)</span></code></pre></div>
<p><img src="ICTP_Winter_School_files/figure-html/unnamed-chunk-9-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>And allowing four invasions in one go (as in top-down assembly):</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="bottom-up-assembly.html#cb40-1"></a>assembly_invasion_<span class="dv">4</span> &lt;-<span class="st"> </span><span class="kw">build_assembly_graph</span>(r, A, <span class="dv">4</span>)</span>
<span id="cb40-2"><a href="bottom-up-assembly.html#cb40-2"></a><span class="kw">plot_assembly_graph</span>(assembly_invasion_<span class="dv">4</span><span class="op">$</span>graph, assembly_invasion_<span class="dv">4</span><span class="op">$</span>info)</span></code></pre></div>
<p><img src="ICTP_Winter_School_files/figure-html/unnamed-chunk-10-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>For simplicity, let’s stick with the case in which only a single species enter in the local community at every invasion event.</p>
</div>
</div>
<div id="properties-of-the-assembly-graph" class="section level2">
<h2><span class="header-section-number">3.2</span> Properties of the assembly graph</h2>
<p><strong>Accessibility</strong>: which states can we reach starting from the bare ground, and performing invasions of (say) one species at a time? We call states that can be built in this way “accessible”. Translated into graph properties, we call a state accessible if there is a path leading from the state 0 to the community of interest (“an assembly path”). If all states are accessible, we call the graph itself accessible. States that are not accessible can be reached by top-down, but not bottom-up assembly.</p>
<p><strong>Cycles</strong>: directed cycles in the graph translate into sub-communities for which invasions drive the system in a cyclic composition (a generalization of rock-paper-scissors!).</p>
<p><strong>Assembly endpoints</strong>: if a node has no outgoing edges, assembly will stop once the corresponding state has been reached. We call this state an “assembly endpoint”. A more complex type of assembly endpoint is that in which there is a cycle connecting two or more communities, and the cycle as a whole has no outgoing edges.</p>
<div class="figure">
<img src="code/assembly_cases.png" alt="" />
<p class="caption">Possible assembly graphs</p>
</div>
</div>
<div id="assembly-graphs-for-glv" class="section level2">
<h2><span class="header-section-number">3.3</span> Assembly graphs for GLV</h2>
<p>For GLV with symmetric, competitive interactions (actually, for a slightly more general case), <span class="citation">Serván and Allesina (<a href="#ref-servan2020tractable" role="doc-biblioref">2020</a>)</span> proved that:</p>
<ul>
<li><p>For a species pool of competitors (i.e., a given <span class="math inline">\(r &gt; 0\)</span> and a symmetric matrix <span class="math inline">\(A &lt; 0\)</span>), <strong>the bottom-up assembly endpoints are the same as the endpoints for top-down assembly</strong>. This means that all states are accessible, and therefore we can build any feasible, stable sub-community from the ground up. In fact, for each sub-community we can find the “shortest” assembly path, which we can construct without any extinctions.</p></li>
<li><p><strong>The assembly graph is acyclic</strong>, meaning that we will never observe communities with cyclic compositions.</p></li>
<li><p><strong>Every walk on the assembly graph eventually reaches a sink</strong>, and, when <span class="math inline">\(A\)</span> is stable, <strong>the sink is unique</strong>. This means that for this type of species pool, historical contingencies (<span class="citation">Fukami (<a href="#ref-fukami2015historical" role="doc-biblioref">2015</a>)</span>) are impossible—if we wait for long enough, the system will always reach the same state, thereby erasing any trace of the assembly history.</p></li>
</ul>
</div>
<div id="relationship-with-lyapunov-functions" class="section level2">
<h2><span class="header-section-number">3.4</span> Relationship with Lyapunov functions</h2>
<p>If a graph has the properties above (acyclic, single source, single sink), then there is a way to order the node such that all edges point in the same direction (topological sorting). In this case, we can devise an “energy” associated with each community state such that assembly “maximizes” the quantity, connecting “low-energy” states to “high-energy ones” via invasion.</p>
<p>In fact, we can even devise such a function, it is exactly the Lyapunov function devised by <span class="citation">MacArthur (<a href="#ref-macarthur1970species" role="doc-biblioref">1970</a> Note: the first paper ever in Theoretical Population Biology!)</span>:</p>
<p><span class="math display">\[
V(x) = 2 \sum_i r_i x_i + \sum_{i,j} A_{ij} x_i x_j
\]</span></p>
<p>MacArthur proved that this quantity is maximized through the dynamics. At equilibrium, we find <span class="math inline">\(V(x^\star) = \sum_i r_i x_i^\star\)</span>. During assembly, community composition changes such that <span class="math inline">\(V(\bar{x})\)</span> is maximized through the assembly process. Note that when <span class="math inline">\(r_i = 1\)</span> for all species, then <span class="math inline">\(V(\bar{x})\)</span> is simply the total biomass in the community. As such, through invasions the total biomass in the community is maximized.</p>
<p>This result would have pleased Cowles, Gleason, Odum, and many of the pioneers of succession! For these (restrictive) conditions, assembly is indeed an orderly, predictable process, culminating in a “climax” with a clear ecological interpretation (for a similar result in a completely different context, see <span class="citation">Suweis et al. (<a href="#ref-suweis2013emergence" role="doc-biblioref">2013</a>)</span>).</p>
</div>
<div id="how-many-assembly-endpoints" class="section level2">
<h2><span class="header-section-number">3.5</span> How many assembly endpoints?</h2>
<p>What happens when the matrix <span class="math inline">\(A\)</span> is still nonpositive and symmetric, but not stable? In this case, it is Gleason who can laugh—for unstable matrices we can have several assembly endpoints, thereby reinstating the role of chance in determining the ultimate fate of the community.</p>
<p>Interestingly, how the number of assembly endpoints changes when we change the parameters of the model is an open problem—in fact we haven’t even characterized the worse-case scenario. See <span class="citation">Biroli, Bunin, and Cammarota (<a href="#ref-biroli2018marginally" role="doc-biblioref">2018</a>)</span> for a derivation showing that they should be growing exponentially with size.</p>
</div>
<div id="build-your-own-assembly-graph" class="section level2">
<h2><span class="header-section-number">3.6</span> Build your own assembly graph!</h2>
<p>Building the assembly graph is computationally very expensive, even with all these results at hand. Fortunately, we do not need to integrate the dynamics (a point that was greatly debated in the literature, see <span class="citation">Morton et al. (<a href="#ref-morton1996models" role="doc-biblioref">1996</a>)</span> for one of the rare cases in which a debate ends up with consensus between opposing factions).</p>
<p>Currently, the algorithm can be sketched as:</p>
<ul>
<li>for each of the <span class="math inline">\(2^n\)</span> possible sub-communities (ranging from bare ground to all species present), determine whether the sub-community is feasible and stable;</li>
<li>now go through all the feasible, stable communities; for each determine the “neighbor” communities that can be reached with (say, one) invasion(s).</li>
<li>call <span class="math inline">\(S\)</span> the feasible, stable community, and add species <span class="math inline">\(j\)</span> (or multiple species), and check that <span class="math inline">\(j\)</span> can invade when rare. If it cannot, move to the next neighbor; If it can, there are two cases:
<ul>
<li>if the community <span class="math inline">\(\{S, j\} = S&#39;\)</span> is feasible and stable, draw an edge <span class="math inline">\(S \to S&#39;\)</span></li>
<li>if the community <span class="math inline">\(\{S, j\} = S&#39;\)</span> is not feasible and stable, the system will collapse to a smaller sub-community; to determine which sub-community it will collapse to, <strong>check all the possible sub-communities</strong> of <span class="math inline">\(S&#39;\)</span>, and take the one with the greatest <span class="math inline">\(V(x^\star)\)</span>, <span class="math inline">\(S&#39;&#39;\)</span>. Draw an an edge <span class="math inline">\(S \to S&#39;&#39;\)</span></li>
</ul></li>
</ul>
<p>Can a better (faster, more efficient) algorithm be devised?</p>
</div>
<div id="conclusions" class="section level2">
<h2><span class="header-section-number">3.7</span> Conclusions</h2>
<p>We have explored the problem of ecological assembly by working with the Generalized Lotka-Volterra model and three main assumptions: 1) invasions are rare, such that invaders always find the local community at the attractor; 2) invasion sizes are small; and 3) dynamics always lead to equilibria–thereby allowing us to determine the effect of any invasion uniquely.</p>
<p>These three assumptions made the study of assembly <strong>tractable, and yet not trivial</strong>, allowing us to map the complex dynamics of the system into an <strong>assembly graph</strong>, and the properties of this graph translate directly into ecological properties of the assembly process.</p>
<p>For competitive Lotka-Volterra with symmetric interactions, when the interaction matrix is stable, all assembly paths will eventually lead to the same state (the “saturated equilibrium” we’ve seen in Lectures 1 and 2). In this case, the history that led to the community cannot be reconstructed from the final state. When the matrix of interactions is unstable, on the other hand, the system can end up in different places depending on the history of assembly.</p>
<p>We have also found that for these cases, <strong>top-down</strong> (all in one go) and <strong>bottom-up</strong> (sequential) assembly can reach exactly the same states. Top-down assembly experiments (e.g., with bacterial communities) are much easier to perform than bottom-up ones, and I believe that this approach has been underexploited (both theoretically, and experimentally).</p>
<p>Much more work remains to be done to reach a general theory of ecological assembly (even for GLV), but the results shown here provide a good springboard, and an expectation, for the study of more complex cases.</p>
</div>
</div>
<h3> References and readings</h3>
<div id="refs" class="references">
<div id="ref-biroli2018marginally">
<p>Biroli, Giulio, Guy Bunin, and Chiara Cammarota. 2018. “Marginally Stable Equilibria in Critical Ecosystems.” <em>New Journal of Physics</em> 20 (8): 083051.</p>
</div>
<div id="ref-capitan2009statistical">
<p>Capitán, José A, José A Cuesta, and Jordi Bascompte. 2009. “Statistical Mechanics of Ecosystem Assembly.” <em>Physical Review Letters</em> 103 (16): 168101.</p>
</div>
<div id="ref-fukami2015historical">
<p>Fukami, Tadashi. 2015. “Historical Contingency in Community Assembly: Integrating Niches, Species Pools, and Priority Effects.” <em>Annual Review of Ecology, Evolution, and Systematics</em> 46: 1–23.</p>
</div>
<div id="ref-hang1993assembly">
<p>Hang-Kwang, Luh, and Stuart L Pimm. 1993. “The Assembly of Ecological Communities: A Minimalist Approach.” <em>Journal of Animal Ecology</em>, 749–65.</p>
</div>
<div id="ref-law1993alternative">
<p>Law, Richard, and R Daniel Morton. 1993. “Alternative Permanent States of Ecological Communities.” <em>Ecology</em> 74 (5): 1347–61.</p>
</div>
<div id="ref-macarthur1970species">
<p>MacArthur, Robert. 1970. “Species Packing and Competitive Equilibrium for Many Species.” <em>Theoretical Population Biology</em> 1 (1): 1–11.</p>
</div>
<div id="ref-morton1996models">
<p>Morton, R Daniel, Richard Law, Stuart L Pimm, and James A Drake. 1996. “On Models for Assembling Ecological Communities.” <em>Oikos</em>, 493–99.</p>
</div>
<div id="ref-schreiber2004simple">
<p>Schreiber, Sebastian J, and Seth Rittenhouse. 2004. “From Simple Rules to Cycling in Community Assembly.” <em>Oikos</em> 105 (2): 349–58.</p>
</div>
<div id="ref-servan2020tractable">
<p>Serván, Carlos A, and Stefano Allesina. 2020. “Tractable Models of Ecological Assembly.” <em>bioRxiv</em>.</p>
</div>
<div id="ref-sigmuiud1995darwin">
<p>Sigmund, Karl. 1995. “Darwin’s "Circles of Complexity": Assembling Ecological Communities.” <em>Complexity</em> 1 (1): 40–44.</p>
</div>
<div id="ref-suweis2013emergence">
<p>Suweis, Samir, Filippo Simini, Jayanth R Banavar, and Amos Maritan. 2013. “Emergence of Structural and Dynamical Properties of Ecological Mutualistic Networks.” <em>Nature</em> 500 (7463): 449–52.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="top-down-assembly.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references-and-readings.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["ICTP_Winter_School.pdf", "ICTP_Winter_School.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
