"0","set.seed(1)"
"0","n <- 5"
"0","nsim <- 2000"
"0","results <- tibble(simulation = 1:nsim, "
"0","                      ncoexisting = rep(NA, nsim))"
"0","for (i in 1:nsim){"
"0","  # build the matrix and vector"
"0","  A <- build_LDstable(n)"
"0","  r <- build_randomr(n)"
"0","  xstar <- get_final_composition(A, r)"
"0","  results$ncoexisting[i] <- sum(xstar > 0)"
"0","}"
"0","pl <- ggplot(data = results) + "
"0","  aes(x = ncoexisting) + "
"0","  geom_bar() + "
"0","  scale_x_continuous(""number of species coexisting"", breaks = 0:10)"
"0","show(pl)"
