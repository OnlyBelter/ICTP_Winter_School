"0","# function to build symmetric, Lyapunov Diagonally-stable matrix"
"0","build_LDstable <- function(n){"
"0","  A <- matrix(0, n, n)"
"0","  A[upper.tri(A)] <- rnorm(n * (n - 1) / 2)"
"0","  # make symmetric"
"0","  A <- A + t(A)"
"0","  # now find the largest eigenvalue"
"0","  l1A <- max(eigen(A, only.values = TRUE, symmetric = TRUE)$values)"
"0","  if (l1A > 0){"
"0","    # set the diagonal to make it stable"
"0","    diag(A) <- diag(A) - l1A - 0.01"
"0","  }"
"0","  return(A)"
"0","}"
"0",""
"0","# function to get random growth rates"
"0","build_randomr <- function(n){"
"0","  return(rnorm(n))"
"0","}"
