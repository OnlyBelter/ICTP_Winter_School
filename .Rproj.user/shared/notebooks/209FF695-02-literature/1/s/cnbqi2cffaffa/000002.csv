"0","assembly_one_step <- function(x, r, A){"
"0","  n <- nrow(A)"
"0","  invader <- sample(1:n, 1)"
"0","  x[invader] <- 0.001 # introduce the invader at low abundance"
"0","  present <- x > 0 # these are the species present now"
"0","  # compute new equilibrium"
"0","  y <- get_final_composition(A[present, present, drop = FALSE], r[present])"
"0","  x[present] <- y"
"0","  return(x)"
"0","}"
